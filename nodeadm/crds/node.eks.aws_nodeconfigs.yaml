---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.12.0
  name: nodeconfigs.node.eks.aws
spec:
  group: node.eks.aws
  names:
    kind: NodeConfig
    listKind: NodeConfigList
    plural: nodeconfigs
    singular: nodeconfig
  scope: Cluster
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: NodeConfig is the Schema for the nodeconfigs API
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            properties:
              cluster:
                properties:
                  apiServerEndpoint:
                    type: string
                  certificateAuthority:
                    format: byte
                    type: string
                  cidr:
                    type: string
                  enableOutpost:
                    type: boolean
                  id:
                    type: string
                  name:
                    type: string
                type: object
              featureGates:
                additionalProperties:
                  type: boolean
                type: object
              kubelet:
                properties:
                  config:
                    description: KubeletConfiguration is a subset of upstream KubeletConfiguration
                      types, which are used to allow partial configuration of kubelet
                      through the NodeConfig https://pkg.go.dev/k8s.io/kubelet/config/v1beta1#KubeletConfiguration
                    properties:
                      clusterDNS:
                        description: ClusterDNS is a list of IP addresses for the
                          cluster DNS server. If ClusterDNS is provided, the default
                          value generated by nodeadm using cluster service IP CIDR
                          is ignored
                        items:
                          type: string
                        type: array
                      cpuCFSQuota:
                        description: CPUCFSQuota enables CPU CFS quota enforcement
                          for containers that specify CPU limits.
                        type: boolean
                      evictionHard:
                        additionalProperties:
                          type: string
                        description: EvictionHard is the map of signal names to quantities
                          that define hard eviction thresholds
                        type: object
                      evictionMaxPodGracePeriod:
                        description: EvictionMaxPodGracePeriod is the maximum allowed
                          grace period (in seconds) to use when terminating pods in
                          response to soft eviction thresholds being met.
                        format: int32
                        type: integer
                      evictionSoft:
                        additionalProperties:
                          type: string
                        description: EvictionSoft is the map of signal names to quantities
                          that define soft eviction thresholds
                        type: object
                      evictionSoftGracePeriod:
                        additionalProperties:
                          type: string
                        description: EvictionSoftGracePeriod is the map of signal
                          names to quantities that define grace periods for each eviction
                          signal
                        type: object
                      imageGCHighThresholdPercent:
                        description: ImageGCHighThresholdPercent is the percent of
                          disk usage after which image garbage collection is always
                          run. The percent is calculated by dividing this field value
                          by 100, so this field must be between 0 and 100, inclusive.
                          When specified, the value must be greater than ImageGCLowThresholdPercent.
                        format: int32
                        type: integer
                      imageGCLowThresholdPercent:
                        description: ImageGCLowThresholdPercent is the percent of
                          disk usage before which image garbage collection is never
                          run. Lowest disk usage to garbage collect to. The percent
                          is calculated by dividing this field value by 100, so the
                          field value must be between 0 and 100, inclusive. When specified,
                          the value must be less than imageGCHighThresholdPercent
                        format: int32
                        type: integer
                      kubeReserved:
                        additionalProperties:
                          anyOf:
                          - type: integer
                          - type: string
                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                          x-kubernetes-int-or-string: true
                        description: KubeReserved contains resources reserved for
                          Kubernetes system components.
                        type: object
                      maxPods:
                        description: MaxPods is an override for the maximum number
                          of pods that can run on this worker node instance.
                        format: int32
                        type: integer
                      podsPerCore:
                        description: PodsPerCore is an override for the number of
                          pods that can run on a worker node instance based on the
                          number of cpu cores. This value cannot exceed MaxPods, so,
                          if MaxPods is a lower value, that value will be used.
                        format: int32
                        type: integer
                      registerWithTaints:
                        description: RegisterWithTaints an array of taints to add
                          to a node object when the kubelet registers itself
                        items:
                          description: The node this Taint is attached to has the
                            "effect" on any pod that does not tolerate the Taint.
                          properties:
                            effect:
                              description: Required. The effect of the taint on pods
                                that do not tolerate the taint. Valid effects are
                                NoSchedule, PreferNoSchedule and NoExecute.
                              type: string
                            key:
                              description: Required. The taint key to be applied to
                                a node.
                              type: string
                            timeAdded:
                              description: TimeAdded represents the time at which
                                the taint was added. It is only written for NoExecute
                                taints.
                              format: date-time
                              type: string
                            value:
                              description: The taint value corresponding to the taint
                                key.
                              type: string
                          required:
                          - effect
                          - key
                          type: object
                        type: array
                      systemReserved:
                        additionalProperties:
                          anyOf:
                          - type: integer
                          - type: string
                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                          x-kubernetes-int-or-string: true
                        description: SystemReserved contains resources reserved for
                          OS system daemons and kernel memory.
                        type: object
                    type: object
                  labels:
                    additionalProperties:
                      type: string
                    description: Labels is a map of labels to apply to the node when
                      the kubelet registers itself
                    type: object
                type: object
            type: object
        type: object
    served: true
    storage: true
